<!-- transaction.component.html -->
<div class="container w-full mx-auto px-4 py-8">
  <!-- Tabs to switch between Deposit and Withdrawal transactions -->
  <ul class="flex gap-4 items-center justify-center border-b">
    <li class="w-full text-center">
      <a class="bg-white inline-block py-2 px-4 font-semibold cursor-pointer" [class.active]="activeTab === 'deposit'"
        (click)="switchTab('deposit')">Deposit</a>
    </li>
    <li class="w-full text-center">
      <a class="bg-white inline-block py-2 px-4 font-semibold cursor-pointer"
        [class.active]="activeTab === 'withdrawal'" (click)="switchTab('withdrawal')">Withdrawal</a>
    </li>
  </ul>

  <!-- Display transactions based on activeTab -->
  <div *ngIf="activeTab === 'deposit'" class="p-4 pt-8">
    <h3 class="text-lg font-semibold">Deposit Transactions</h3>
    <div *ngFor="let transaction of depositTransactions"
      class="my-2 border space-y-4 p-4 inline-block overflow-hidden rounded-md w-full cursor-pointer">
      <div>
        <h2 class="text-sm text-grey-600 font-sans">Amount</h2>
        <p class="text-lg font-medium font-sans text-black"> {{ transaction.amount }}</p>
      </div>
      <div>
        <h2 class="text-sm text-grey-600 font-sans">Status</h2>
        <p class="text-lg font-medium font-sans text-black"> {{ transaction.status }}</p>
      </div>
      <div>
        <h2 class="text-sm text-grey-600 font-sans">Method</h2>
        <p class="text-lg font-medium font-sans text-black"> {{ transaction.method }}</p>
      </div>
      <!-- <p class="text-lg">Amount: {{ transaction.amount }}</p>
        <p class="text-gray-600">Status: {{ transaction.status }}</p>
        <p class="text-gray-600">Method: {{ transaction.method }}</p> -->
      <div class="flex items-center gap-4">
        <button *ngIf="transaction.status === 'pending'" (click)="acceptTransaction(transaction,'deposit')"
          class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-2">Accept</button>
        <button *ngIf="transaction.status === 'pending'" (click)="declineTransaction(transaction,'declineDeposit')"
          class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-2">Decline</button>
      </div>

    </div>
  </div>

  <div *ngIf="activeTab === 'withdrawal'" class="p-4 pt-8">
    <h3 class="text-lg font-semibold">Withdrawal Transactions</h3>
    <div *ngFor="let transaction of withdrawalTransactions"
      class="my-2 border space-y-4 p-4 inline-block overflow-hidden rounded-md w-full cursor-pointer">
      <!-- <p class="text-lg">Amount: {{ transaction.amount }}</p>
      <p class="text-gray-600">Status: {{ transaction.status }}</p>
      <p class="text-gray-600">Method: {{ transaction.method }}</p> -->
      <div>
        <h2 class="text-sm text-grey-600 font-sans">Amount</h2>
        <p class="text-lg font-medium font-sans text-black"> {{ transaction.amount }}</p>
      </div>
      <div>
        <h2 class="text-sm text-grey-600 font-sans">Status</h2>
        <p class="text-lg font-medium font-sans text-black"> {{ transaction.status }}</p>
      </div>
      <div>
        <h2 class="text-sm text-grey-600 font-sans">Method</h2>
        <p class="text-lg font-medium font-sans text-black"> {{ transaction.method }}</p>
      </div>
      <div class="flex items-center gap-4">
        <button *ngIf="transaction.status === 'pending'" (click)="acceptTransaction(transaction,'withdraw')"
          class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-2">Accept</button>
        <button *ngIf="transaction.status === 'pending'" (click)="declineTransaction(transaction,'declineWithdraw')"
          class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-2">Decline</button>
      </div>

    </div>
  </div>

  <!-- Modal for entering decline message -->
  <div *ngIf="showDeclineModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 ">
    <div class="bg-white rounded-md p-4 m-4">
      <h4 class="text-lg font-semibold mb-2">Enter Decline Message</h4>
      <textarea [(ngModel)]="declineMessage" rows="3" cols="30"
        class="w-full p-2 border border-gray-300 rounded"></textarea>
      <div class="flex justify-end items-center gap-4 mt-4">
        <button (click)="confirmDecline(transaction)"
          class="px-4 py-2 bg-black text-white font-sans font-medium rounded hover:bg-white hover:text-black border-black border-2 border-solid w-full whitespace-nowrap mt-2">Confirm</button>
        <button (click)="closeModal()"
          class="px-8 py-2 border-2 border-solid border-black rounded text-black font-medium w-full hover:bg-black hover:text-white transition-all ease-in-out duration-300 mt-2">Close</button>
      </div>
    </div>


  </div>
</div>